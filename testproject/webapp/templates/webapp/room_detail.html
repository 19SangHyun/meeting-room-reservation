{% extends 'webapp/base.html' %}

{% block content %}
<h2>{{ room.name }}</h2>
<p>위치: {{ room.location }}</p>
<p>수용 인원: {{ room.capacity }}</p>

<a href="{% url 'make_reservation' room.id %}">예약하기</a>

<h3>예약 현황</h3>
{% if reservations %}
  <ul>
    {% for r in reservations %}
      <li>
        {{ r.date }}: {{ r.start_time }} - {{ r.end_time }} 
        (예약자: {{ r.user.username }})
        
        {% if r.user == request.user or request.user.is_staff %}
          <!-- 수정/삭제 버튼 -->
          <a href="{% url 'edit_reservation' r.id %}">수정</a>
          <form action="{% url 'delete_reservation' r.id %}" method="post" style="display:inline;">
            {% csrf_token %}
            <button type="submit" onclick="return confirm('정말 삭제하시겠습니까?')">삭제</button>
          </form>
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>예약된 시간이 없습니다.</p>
{% endif %}

{% endblock %}




