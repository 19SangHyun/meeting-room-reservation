{% extends 'webapp/base.html' %}

{% block content %}
  <h2>{{ room.name }}</h2>
  <p><strong>ìœ„ì¹˜:</strong> {{ room.location }}</p>
  <p><strong>ìˆ˜ìš© ì¸ì›:</strong> {{ room.capacity }}ëª…</p>

  {% if user.is_authenticated %}
    <p><a href="{% url 'make_reservation' room.id %}">â• ì˜ˆì•½í•˜ê¸°</a></p>
  {% else %}
    <p><a href="{% url 'login' %}?next={{ request.path }}">ğŸ”’ ë¡œê·¸ì¸ í›„ ì˜ˆì•½ ê°€ëŠ¥</a></p>
  {% endif %}

  <h3>ğŸ“… ì˜ˆì•½ í˜„í™©</h3>
  {% if reservations %}
    <ul>
      {% for r in reservations %}
        <li>
          <strong>{{ r.date }}:</strong> {{ r.start_time }} - {{ r.end_time }}
          (ì˜ˆì•½ì: {{ r.user.username }})

          {% if user == r.user or user.is_staff %}
            &nbsp;|&nbsp;
            <a href="{% url 'edit_reservation' r.id %}">ìˆ˜ì •</a>
            <form action="{% url 'delete_reservation' r.id %}" method="post" style="display:inline;">
              {% csrf_token %}
              <button type="submit" onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ì‚­ì œ</button>
            </form>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>ì˜ˆì•½ëœ ì‹œê°„ì´ ì—†ìŠµë‹ˆë‹¤.</p>
  {% endif %}
{% endblock %}





